{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/product.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\n\nfunction AddProductComponent_option_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const category_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", category_r1.name, \" \");\n  }\n}\n\nexport let AddProductComponent = /*#__PURE__*/(() => {\n  class AddProductComponent {\n    constructor(productService) {\n      this.productService = productService;\n      this.newProduct = {}; // Object to store new product data\n\n      this.categories = []; // Array to store categories retrieved from backend\n    }\n\n    ngOnInit() {\n      // Fetch categories from the backend when the component initializes\n      this.productService.getProductCategories().subscribe(data => {\n        this.categories = data; // Assuming data is an array of categories with 'id' and 'name'\n      });\n    }\n\n    addProduct() {\n      // Set date_created and last_updated here before sending the request\n      this.newProduct.date_created = new Date().toISOString();\n      this.newProduct.last_updated = new Date().toISOString();\n      this.productService.addProduct(this.newProduct).subscribe(response => {\n        // Handle success or error response from the backend\n        console.log('Product added:', response); // Optionally, you can reset the form after successful addition\n\n        this.newProduct = {};\n      });\n    }\n\n  }\n\n  AddProductComponent.ɵfac = function AddProductComponent_Factory(t) {\n    return new (t || AddProductComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n  };\n\n  AddProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddProductComponent,\n    selectors: [[\"app-add-product\"]],\n    decls: 34,\n    vars: 11,\n    consts: [[3, \"ngSubmit\"], [\"for\", \"sku\"], [\"type\", \"text\", \"id\", \"sku\", \"name\", \"sku\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"description\"], [\"id\", \"description\", \"name\", \"description\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"brand\"], [\"type\", \"text\", \"id\", \"brand\", \"name\", \"brand\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"discount\"], [\"type\", \"number\", \"id\", \"discount\", \"name\", \"discount\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"unit_price\"], [\"type\", \"number\", \"id\", \"unit_price\", \"name\", \"unit_price\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"image_url\"], [\"type\", \"text\", \"id\", \"image_url\", \"name\", \"image_url\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"units_in_stock\"], [\"type\", \"number\", \"id\", \"units_in_stock\", \"name\", \"units_in_stock\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"total_sold\"], [\"type\", \"number\", \"id\", \"total_sold\", \"name\", \"total_sold\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"category_id\"], [\"id\", \"category_id\", \"name\", \"category_id\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\"], [3, \"value\"]],\n    template: function AddProductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function AddProductComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.addProduct();\n        });\n        i0.ɵɵelementStart(1, \"label\", 1);\n        i0.ɵɵtext(2, \"SKU:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_3_listener($event) {\n          return ctx.newProduct.sku = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"label\", 3);\n        i0.ɵɵtext(5, \"Name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.newProduct.name = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"label\", 5);\n        i0.ɵɵtext(8, \"Description:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"textarea\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_textarea_ngModelChange_9_listener($event) {\n          return ctx.newProduct.description = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"label\", 7);\n        i0.ɵɵtext(11, \"Brand:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.newProduct.brand = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"label\", 9);\n        i0.ɵɵtext(14, \"Discount:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_15_listener($event) {\n          return ctx.newProduct.discount = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"label\", 11);\n        i0.ɵɵtext(17, \"Unit Price:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.newProduct.unit_price = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"label\", 13);\n        i0.ɵɵtext(20, \"Image URL:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_21_listener($event) {\n          return ctx.newProduct.image_url = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"label\", 15);\n        i0.ɵɵtext(23, \"Units in Stock:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"input\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_24_listener($event) {\n          return ctx.newProduct.units_in_stock = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"label\", 17);\n        i0.ɵɵtext(26, \"Total Sold:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"input\", 18);\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_input_ngModelChange_27_listener($event) {\n          return ctx.newProduct.total_sold = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"label\", 19);\n        i0.ɵɵtext(29, \"Category:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"select\", 20);\n        i0.ɵɵlistener(\"ngModelChange\", function AddProductComponent_Template_select_ngModelChange_30_listener($event) {\n          return ctx.newProduct.category_id = $event;\n        });\n        i0.ɵɵtemplate(31, AddProductComponent_option_31_Template, 2, 2, \"option\", 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"button\", 22);\n        i0.ɵɵtext(33, \"Add Product\");\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newProduct.sku);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newProduct.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newProduct.description);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newProduct.brand);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newProduct.discount);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newProduct.unit_price);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newProduct.image_url);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newProduct.units_in_stock);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newProduct.total_sold);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newProduct.category_id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm]\n  });\n  return AddProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}