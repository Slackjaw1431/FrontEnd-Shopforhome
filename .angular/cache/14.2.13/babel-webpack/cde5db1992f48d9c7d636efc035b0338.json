{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CartItem } from '../cart-item';\nimport { Product } from '../product';\nlet ProductDetailsComponent = class ProductDetailsComponent {\n  constructor(productService, cartService, route, userService) {\n    this.productService = productService;\n    this.cartService = cartService;\n    this.route = route;\n    this.userService = userService;\n    this.product = new Product();\n    this.isAdmin = false;\n  }\n\n  ngOnInit() {\n    this.assignType();\n    this.route.paramMap.subscribe(() => {\n      this.handleProductDetails();\n    });\n  }\n\n  handleProductDetails() {\n    // get the \"id\" param string. convert string to a number using the \"+\" symbol\n    const theProductId = +this.route.snapshot.paramMap.get('id');\n    console.log(theProductId);\n    this.productService.getProduct(theProductId).subscribe(data => {\n      this.product = data;\n    });\n  }\n\n  addToCart() {\n    console.log(`Adding to cart: ${this.product.name}, ${this.product.unitPrice}`);\n    let theCartItem = new CartItem(this.product.id, this.product.name, this.product.imageUrl, this.product.unitPrice);\n    this.cartService.addToCart(theCartItem);\n  }\n\n  assignType() {\n    if (this.userService.roleMatch(['Admin'])) {\n      this.isAdmin = true;\n    } else if (this.userService.roleMatch(['User'])) {\n      this.isAdmin = false;\n    } else {\n      console.log('assign type not implemented in product details ts');\n    }\n  }\n\n  deleteProduct(theProductId) {\n    this.productService.deleteProduct(theProductId).subscribe(data => {\n      this.product = data;\n    });\n  }\n\n};\nProductDetailsComponent = __decorate([Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.css']\n})], ProductDetailsComponent);\nexport { ProductDetailsComponent };","map":null,"metadata":{},"sourceType":"module"}